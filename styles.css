:root {
  --primary: #1f9d66;
  --primary-dark: #168155;
  --bg: #f4f7f6;
  --card: #ffffff;
  --text: #12263a;
  --muted: #66788a;
  --line: #dde6e3;
  --danger: #c23434;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Cairo", sans-serif;
  background: var(--bg);
  color: var(--text);
}
.container {
  width: min(1200px, 100%);
  max-width: 100%;
  margin: 0 auto;
  padding-inline: 16px;
}
.hidden { display: none !important; }
.top-loader { position: fixed; top: 0; left: 0; right: 0; height: 3px; z-index: 120; opacity: 0; pointer-events: none; transition: opacity .25s ease; background: rgba(31,157,102,.12); }
.top-loader span { display: block; height: 100%; width: 35%; background: linear-gradient(90deg, var(--primary), #5fd8a5); transform: translateX(-120%); }
.top-loader.is-loading { opacity: 1; }
.top-loader.is-loading span { animation: topLoaderMove 1.1s ease-in-out infinite; }
@keyframes topLoaderMove { 0% { transform: translateX(-120%); width: 25%; } 50% { width: 55%; } 100% { transform: translateX(220%); width: 30%; } }
.site-header { background: #fff; border-bottom: 1px solid var(--line); position: sticky; top: 0; z-index: 40; }
.top-row { display: flex; gap: 12px; align-items: center; padding: 14px 0; flex-wrap: wrap; }
.brand { font-size: 2rem; font-weight: 800; color: var(--primary); text-decoration: none; }
.search-form { flex: 1; min-width: 220px; display: flex; background: #f9fbfa; border: 1px solid var(--line); border-radius: 12px; overflow: hidden; }
.search-form input { width: 100%; border: 0; background: transparent; padding: 12px; font-family: inherit; }
.header-actions { display: flex; gap: 8px; flex-wrap: wrap; position: relative; }
.btn, .icon-btn, .pill, .text-link {
  cursor: pointer;
  transition: 0.2s ease;
}
.btn {
  border: 1px solid transparent;
  background: var(--primary);
  color: #fff;
  border-radius: 10px;
  padding: 10px 14px;
  font-family: inherit;
  font-weight: 700;
}
.btn:hover { background: var(--primary-dark); }
.btn:focus-visible, .icon-btn:focus-visible, .pill:focus-visible, a:focus-visible {
  outline: 3px solid rgba(31, 157, 102, 0.25);
  outline-offset: 2px;
}
.btn-secondary { background: #fff; border-color: var(--line); color: var(--text); }
.btn-secondary:hover { border-color: var(--primary); color: var(--primary); }
#cartCount { background: #fff; color: var(--primary); padding: 2px 8px; border-radius: 999px; margin-right: 6px; }
.icon-btn { border: 0; background: transparent; color: var(--muted); width: 44px; }
.icon-btn:hover { color: var(--primary); }
.category-nav { display: flex; flex-wrap: wrap; gap: 8px; padding-bottom: 14px; }
.pill {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--text);
  border-radius: 999px;
  padding: 7px 14px;
  text-decoration: none;
  font-size: 0.95rem;
}
.pill:hover { border-color: var(--primary); color: var(--primary); }
.pill.active { background: var(--primary); color: #fff; border-color: var(--primary); }
.panel { background: var(--card); border: 1px solid var(--line); border-radius: 16px; padding: 18px; margin: 16px 0; }
h2 { margin-top: 0; }
.hero { overflow: hidden; }
.hero-slide {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  gap: 14px;
  min-height: 290px;
}
.hero-slide img { width: 100%; height: 280px; object-fit: cover; border-radius: 12px; }
.hero-dots { display: flex; justify-content: center; gap: 8px; margin-top: 12px; }
.hero-dots button { width: 10px; height: 10px; border-radius: 50%; border: 0; background: #c8d5d1; }
.hero-dots .active { background: var(--primary); }
.categories-grid, .products-grid, .brands-grid, .subcategories-grid { display: grid; gap: 12px; }
.categories-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.products-grid {
  width: 100%;
  max-width: none;
  grid-template-columns: repeat(5, minmax(0, 1fr));
}
.brands-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.subcategories-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.card {
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 12px;
  background: #fff;
}
.category-card img, .product-card img, .brand-card img { width: 100%; border-radius: 10px; object-fit: cover; background: #f2f4f3; }
.category-card img { height: 130px; }
.product-card img { height: 180px; }
.brand-card img { height: 90px; object-fit: contain; }
.product-card { padding: 10px; display: flex; flex-direction: column; height: 100%; }
.product-card img { height: 150px; }
.product-card h3 { margin: 8px 0 6px; font-size: 0.96rem; line-height: 1.35; }
.product-card p { margin: 4px 0; font-size: 0.9rem; }
.product-card .price,
.product-card .old-price { font-size: 0.92rem; }
.product-card .add-cart { width: 100%; margin-top: auto; padding: 8px 10px; font-size: 0.9rem; }
.price { color: var(--primary-dark); font-weight: 800; }
.old-price { color: #8a95a1; text-decoration: line-through; margin-right: 8px; }
.badge-unavailable { color: var(--danger); font-weight: 700; }
.subcategory-card { cursor: pointer; text-align: center; }
.subcategory-card.active { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(31, 157, 102, 0.15); }
.subcategory-image-wrap { border-radius: 10px; overflow: hidden; background: #f2f4f3; margin-bottom: 10px; }
.subcategory-image-wrap img { width: 100%; height: 120px; object-fit: cover; display: block; }
.category-banner { padding: 0; overflow: hidden; }
.category-banner img { width: 100%; height: 260px; object-fit: cover; display: block; }
.category-banner .overlay { padding: 16px; }
.section-title-wrap { display: flex; justify-content: space-between; align-items: center; }


.products-layout {
  display: flex;
  gap: 16px;
  align-items: flex-start;
}

.filters-sidebar {
  width: 280px;
  min-width: 280px;
  position: sticky;
  top: 110px;
}

.filters-card {
  border: 1px solid var(--line);
  border-radius: 14px;
  background: #fff;
  padding: 14px;
  display: grid;
  gap: 12px;
}

.filter-group { display: grid; gap: 8px; }
.filter-group h4 { margin: 0; font-size: 1rem; }
.filter-choice { display: flex; gap: 8px; align-items: center; font-size: 0.95rem; }
.filter-group .filter-choice { padding: 4px 0; }
.filter-price-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.filter-price-grid input, .filter-sort-select {
  border: 1px solid var(--line);
  border-radius: 8px;
  padding: 8px;
  font-family: inherit;
  width: 100%;
}
.filter-actions { display: flex; gap: 8px; flex-wrap: wrap; }

.mobile-filters-bar {
  position: fixed;
  right: 12px;
  left: 12px;
  bottom: 12px;
  z-index: 66;
  display: none;
}
.mobile-filters-bar .btn { width: 100%; }

.filters-sheet-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  z-index: 68;
}

.filters-sheet {
  position: fixed;
  right: 0;
  left: 0;
  bottom: 0;
  background: #fff;
  border-radius: 16px 16px 0 0;
  border: 1px solid var(--line);
  padding: 12px;
  z-index: 69;
  max-height: 78vh;
  overflow-y: auto;
}

.filters-sheet-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}
.text-link { border: 0; background: transparent; color: var(--primary); font-weight: 700; }
.text-link:hover { text-decoration: underline; }
.site-footer { margin-top: 30px; background: #fff; border-top: 1px solid var(--line); }
.footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); gap: 12px; padding: 24px 0; }
.footer-grid a { display: block; color: var(--muted); text-decoration: none; margin: 6px 0; }
.footer-grid a:hover { color: var(--primary); }
.cart-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 70; }
.cart-drawer {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: min(430px, 95%);
  background: #fff;
  z-index: 80;
  transform: translateX(-102%);
  transition: transform 0.25s ease;
  border-right: 1px solid var(--line);
  overflow-y: auto;
  padding: 16px;
}
.cart-drawer.open { transform: translateX(0); }
.cart-header { display: flex; justify-content: space-between; align-items: center; }
.cart-item { display: grid; grid-template-columns: 56px 1fr auto; gap: 8px; border-bottom: 1px solid var(--line); padding: 8px 0; }
.cart-item img { width: 56px; height: 56px; border-radius: 8px; object-fit: cover; }
.qty-controls { display: inline-flex; align-items: center; gap: 6px; }
.qty-controls button { border: 1px solid var(--line); background: #fff; border-radius: 6px; cursor: pointer; }
.form-grid { display: grid; gap: 10px; }
.form-grid label { font-size: 0.95rem; display: grid; gap: 4px; }
.form-grid input, .form-grid textarea { border: 1px solid var(--line); border-radius: 8px; padding: 9px; font-family: inherit; }
.full { grid-column: 1 / -1; }
.form-errors { color: var(--danger); font-size: 0.9rem; min-height: 18px; }
.checkout-actions { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 10px; }
.order-status { color: var(--muted); font-size: 0.95rem; }
.empty-state { color: var(--muted); padding: 20px; border: 1px dashed var(--line); border-radius: 10px; text-align: center; }

.user-menu { position: relative; }
.user-menu-list {
  position: absolute;
  left: 0;
  top: calc(100% + 8px);
  min-width: 150px;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 8px;
  display: grid;
  gap: 8px;
  z-index: 41;
}

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  display: grid;
  place-items: center;
  z-index: 90;
  padding: 16px;
}
.modal-card {
  width: min(520px, 100%);
  background: #fff;
  border-radius: 14px;
  border: 1px solid var(--line);
  padding: 14px;
  max-height: 85vh;
  overflow-y: auto;
}
.modal-header { display: flex; justify-content: space-between; align-items: center; }
.auth-tabs { display: flex; gap: 8px; margin-bottom: 12px; }
.auth-form { margin-bottom: 0; }
.order-card h4 { margin: 0 0 6px; }

.toast {
  position: fixed;
  left: 16px;
  bottom: 16px;
  background: #12263a;
  color: #fff;
  padding: 10px 14px;
  border-radius: 10px;
  z-index: 95;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.2s ease, transform 0.2s ease;
  pointer-events: none;
}
.toast.show {
  opacity: 1;
  transform: translateY(0);
}

@media (max-width: 800px) {
  .hero-slide { grid-template-columns: 1fr; }
  .hero-slide img { height: 210px; }
  .categories-grid, .products-grid, .brands-grid, .subcategories-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 1199px) {
  .products-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

@media (max-width: 900px) {
  .products-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

@media (max-width: 600px) {
  .container,
  main.container {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding-inline: 12px;
  }
  .top-row { align-items: flex-start; }
  .search-form { order: 3; width: 100%; min-width: 100%; }
  .header-actions { width: 100%; justify-content: space-between; }
  .modal-card { max-height: 90vh; }
  .cart-item { grid-template-columns: 44px 1fr; }
  .cart-item > div:last-child { grid-column: 1 / -1; }
  .products-grid {
    width: 100%;
    max-width: none;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 10px;
  }
}

@media (max-width: 400px) {
  .categories-grid, .brands-grid, .subcategories-grid { grid-template-columns: 1fr; }
  .brand { font-size: 1.6rem; }
  .panel { padding: 12px; }
}

@media (max-width: 380px) {
  .products-grid { grid-template-columns: 1fr; }
}


@media (max-width: 991px) {
  .products-layout { display: block; }
  .filters-sidebar { display: none; }
  .mobile-filters-bar { display: block; }
  body.has-mobile-filters { padding-bottom: 76px; }
}

.inline-search-wrap { margin-bottom: 12px; }
.inline-search-wrap input { width: 100%; border: 1px solid var(--line); border-radius: 10px; padding: 10px; font-family: inherit; }
.load-more-wrap { display: flex; justify-content: center; margin-top: 14px; }
.card-media-wrap { position: relative; cursor: pointer; }
.card-media-wrap img { aspect-ratio: 4/3; width: 100%; object-fit: cover; }
.product-card h3 a { color: inherit; text-decoration: none; }
.product-card h3 a:hover { color: var(--primary); }
.badges-row { position: absolute; top: 8px; right: 8px; display: flex; gap: 6px; flex-wrap: wrap; }
.badge { background: #fff; border-radius: 999px; padding: 3px 8px; font-size: 0.75rem; font-weight: 700; border: 1px solid var(--line); }
.badge-new { color: #157347; }
.badge-discount { color: #b02a37; }
.badge-best { color: #915f00; }
.fav-toggle, .share-toggle { position: absolute; left: 8px; width: 34px; height: 34px; background: #fff; border: 1px solid var(--line); border-radius: 50%; }
.fav-toggle { top: 8px; }
.share-toggle { top: 46px; }
.fav-toggle.active { color: #d63384; }
.price-block { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; margin: 4px 0 6px; }
.price-block .price { font-size: 1.05rem; }
.discount-chip { font-size: 0.78rem; background: #ffe3e3; color: #c92a2a; padding: 2px 6px; border-radius: 999px; }
.skeleton { background: linear-gradient(90deg, #e9efee 25%, #f6f9f8 37%, #e9efee 63%); background-size: 400% 100%; animation: shimmer 1.3s infinite; border-radius: 8px; }
.skeleton-media { height: 140px; margin-bottom: 8px; }
.skeleton-line { height: 14px; margin-bottom: 8px; }
.skeleton-line.short { width: 60%; }
@keyframes shimmer { 0% { background-position: 100% 0; } 100% { background-position: 0 0; } }
.scroll-top-btn { position: fixed; bottom: 86px; left: 16px; width: 44px; height: 44px; border-radius: 50%; border: 0; background: var(--primary); color: #fff; z-index: 71; opacity: 0; pointer-events: none; transform: translateY(12px); transition: .2s; }
.scroll-top-btn.show { opacity: 1; pointer-events: auto; transform: translateY(0); }
.lightbox { position: fixed; inset: 0; background: rgba(0,0,0,.85); z-index: 100; display: grid; place-items: center; padding: 20px; }
.lightbox img { max-width: min(900px, 95vw); max-height: 85vh; border-radius: 10px; }
.lightbox-close { position: fixed; top: 14px; left: 14px; color: #fff; }
.product-view-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.product-main-image { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 12px; cursor: zoom-in; background: #eef3f1; }
.product-actions { display: flex; flex-wrap: wrap; gap: 8px; }
.img-fallback { object-fit: contain !important; padding: 20px; background: linear-gradient(135deg, #f3f6f5, #e6ecea); }
@media (max-width: 900px) { .product-view-grid { grid-template-columns: 1fr; } }

.order-success-card { border: 1px solid var(--line); border-radius: 14px; padding: 16px; background: #fff; display: grid; gap: 12px; }
.order-code-wrap { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
#orderSuccessCode { font-size: 1.05rem; background: #eef8f3; color: var(--primary-dark); padding: 8px 12px; border-radius: 10px; }
.order-success-summary, .order-success-items, .order-success-totals, .order-success-customer { border: 1px solid var(--line); border-radius: 12px; padding: 12px; background: #fcfefd; }
.order-success-item { padding: 10px 0; border-bottom: 1px dashed #d7e5e0; }
.order-success-item:last-child { border-bottom: 0; }
.order-success-actions { display: flex; gap: 8px; flex-wrap: wrap; }
@media (max-width: 640px) {
  .order-success-actions .btn { width: 100%; }
}


.app-preloader {
  position: fixed;
  inset: 0;
  z-index: 130;
  background: rgba(244, 247, 246, 0.98);
  display: grid;
  place-items: center;
  transition: opacity .22s ease, visibility .22s ease;
}
.app-preloader.is-hidden { opacity: 0; visibility: hidden; pointer-events: none; }
.preloader-card {
  width: min(440px, 92vw);
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 18px;
  text-align: center;
  box-shadow: 0 18px 45px rgba(18, 38, 58, 0.08);
}
.preloader-title { font-size: 1.08rem; font-weight: 800; margin-bottom: 8px; }
.preloader-row{
  display:flex; align-items:center; justify-content:center;
  gap:10px; margin:10px 0 12px;
}
.preloader-spinner{
  width:18px; height:18px;
  border-radius:50%;
  border:2px solid rgba(0,0,0,.18);
  border-top-color: rgba(0,0,0,.55);
  animation: spin 0.9s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg);} }
.preloader-status{ font-size:14px; opacity:.8; }
.preloader-progress { display: grid; gap: 8px; }
.preloader-bar { height: 9px; border-radius: 999px; overflow: hidden; background: #e8eeec; }
.preloader-bar span { display: block; height: 100%; width: 0%; border-radius: 999px; background: linear-gradient(90deg, var(--primary), #6fe1af); transition: width .16s linear; }
.preloader-percent { font-weight: 800; color: var(--primary-dark); }
#appRoot.is-hidden { visibility: hidden; }
#appRoot.is-ready { visibility: visible; }
